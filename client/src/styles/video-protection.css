/* Global Video Protection Styles */

/* Disable text selection globally for video content */
.video-protected,
.video-protected * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* Disable drag and drop for video elements */
.video-protected video,
.video-protected img {
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
  pointer-events: none !important;
}

/* Hide video controls that allow downloading */
.video-protected video::-webkit-media-controls-download-button {
  display: none !important;
}

.video-protected video::-webkit-media-controls-fullscreen-button {
  display: none !important;
}

.video-protected video::-webkit-media-controls-picture-in-picture-button {
  display: none !important;
}

/* Disable right-click context menu */
.video-protected {
  -webkit-context-menu: none !important;
}

/* Prevent screenshot overlays */
.screenshot-protection {
  position: relative;
  overflow: hidden;
}

.screenshot-protection::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  z-index: 9999;
  pointer-events: none;
}

/* Blur content when recording is detected */
.recording-detected {
  filter: blur(20px) !important;
  pointer-events: none !important;
}

.recording-detected video {
  filter: blur(20px) !important;
}

/* Watermark styles */
.floating-watermark {
  position: absolute;
  pointer-events: none;
  user-select: none;
  opacity: 0.1;
  color: white;
  font-size: 10px;
  font-weight: bold;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
  z-index: 1000;
  animation: floatWatermark 15s infinite linear;
}

@keyframes floatWatermark {
  0% { 
    transform: translate(-50%, -50%) rotate(0deg);
    opacity: 0.1;
  }
  25% { 
    transform: translate(-50%, -50%) rotate(1deg);
    opacity: 0.15;
  }
  50% { 
    transform: translate(-50%, -50%) rotate(0deg);
    opacity: 0.1;
  }
  75% { 
    transform: translate(-50%, -50%) rotate(-1deg);
    opacity: 0.15;
  }
  100% { 
    transform: translate(-50%, -50%) rotate(0deg);
    opacity: 0.1;
  }
}

/* Protection overlay styles */
.protection-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  color: white;
  text-align: center;
}

/* Disable print styles for video content */
@media print {
  .video-protected {
    display: none !important;
  }
}

/* Disable screenshot on mobile devices */
@media (max-width: 768px) {
  .video-protected {
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }
}

/* Additional security for developer tools detection */
.devtools-detected {
  filter: blur(10px) !important;
  pointer-events: none !important;
}

.devtools-detected::after {
  content: 'Developer tools detected. Please close them to continue.';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 0, 0, 0.9);
  color: white;
  padding: 20px;
  border-radius: 8px;
  z-index: 10001;
  font-weight: bold;
}

/* ========================================
   COMPREHENSIVE YOUTUBE COPY LINK BLOCKING
   ======================================== */

/* Hide ALL YouTube sharing and copy link elements */
iframe[src*="youtube.com"] *,
iframe[src*="youtube-nocookie.com"] *,
.plyr--youtube *,
.plyr__video-embed * {
  /* Block copy link buttons */
  .ytp-copylink-button,
  .ytp-share-button,
  .ytp-share-panel,
  .ytp-share-button-visible,
  button[aria-label*="Copy"],
  button[aria-label*="Share"],
  button[title*="Copy"],
  button[title*="Share"],
  [data-tooltip-target-id*="copy"],
  [data-tooltip-target-id*="share"],
  
  /* Block context menus and overlays */
  .ytp-contextmenu,
  .ytp-popup,
  .ytp-menuitem[aria-label*="Copy"],
  .ytp-menuitem[aria-label*="Share"],
  
  /* Block any element containing copy/share text */
  *[class*="copy"],
  *[class*="share"],
  *[id*="copy"],
  *[id*="share"],
  
  /* Block YouTube branding and info */
  .ytp-chrome-top,
  .ytp-chrome-bottom,
  .ytp-watermark,
  .ytp-title,
  .ytp-title-link,
  .ytp-title-channel,
  .ytp-show-cards-title,
  .ytp-pause-overlay,
  .ytp-gradient-top,
  .ytp-gradient-bottom {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
    top: -9999px !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    z-index: -1 !important;
  }
}

/* Aggressive blocking using CSS attribute selectors - ONLY for YouTube copy/share */
iframe[src*="youtube"] button[aria-label*="Copy link"],
iframe[src*="youtube"] button[aria-label*="Share"],
iframe[src*="youtube"] button[title*="Copy link"],
iframe[src*="youtube"] button[title*="Share"],
iframe[src*="youtube"] .ytp-copylink-button,
iframe[src*="youtube"] .ytp-share-button,
iframe[src*="youtube"] .ytp-share-panel {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: fixed !important;
  left: -10000px !important;
  top: -10000px !important;
  width: 0 !important;
  height: 0 !important;
  z-index: -999999 !important;
}

/* Block YouTube UI overlays completely */
.plyr--youtube .ytp-chrome-top,
.plyr--youtube .ytp-chrome-bottom,
.plyr--youtube .ytp-share-panel,
.plyr--youtube .ytp-contextmenu,
.plyr--youtube .ytp-popup {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
}

/* Additional blocking for YouTube elements only */
iframe[src*="youtube"] *[aria-label*="Copy link"],
iframe[src*="youtube"] *[aria-label*="Share"],
iframe[src*="youtube"] *[title*="Copy link"],
iframe[src*="youtube"] *[title*="Share"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Fullscreen video container styles - cross-browser */
.video-container:fullscreen,
.video-container:-webkit-full-screen,
.video-container:-moz-full-screen,
.video-container:-ms-fullscreen {
  background: black !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 100vw !important;
  height: 100vh !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  z-index: 9999 !important;
}

.video-container:fullscreen iframe,
.video-container:-webkit-full-screen iframe,
.video-container:-moz-full-screen iframe,
.video-container:-ms-fullscreen iframe {
  width: 100vw !important;
  height: 100vh !important;
  max-width: none !important;
  max-height: none !important;
  border: none !important;
  border-radius: 0 !important;
}

/* Custom video controls styling */
.video-controls {
  pointer-events: auto !important;
  z-index: 9999 !important;
}

.video-controls button {
  pointer-events: auto !important;
  user-select: none !important;
}

/* Fade-in animation for controls hint */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px);
  }
  to {
    opacity: 0.7;
    transform: translateX(-50%) translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

/* Hover button animations */
@keyframes hoverButtonAppear {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.hover-button-appear {
  animation: hoverButtonAppear 0.2s ease-out forwards;
}

/* Block YouTube's dynamic elements */
.ytp-button[data-tooltip-target-id*="share"],
.ytp-button[data-tooltip-target-id*="copy"],
.ytp-menuitem-label:contains("Copy"),
.ytp-menuitem-label:contains("Share") {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Prevent any YouTube overlay from appearing */
iframe[src*="youtube"] {
  pointer-events: none !important;
}

/* Re-enable pointer events only for Plyr controls */
.plyr__controls,
.plyr__control {
  pointer-events: auto !important;
}

/* Block any floating YouTube elements */
.ytp-ce-element,
.ytp-cards-teaser,
.ytp-endscreen-element,
.ytp-suggested-action {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}
